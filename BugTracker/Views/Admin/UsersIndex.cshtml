@model IEnumerable<BugTracker.ViewModels.IndexUsersViewModel>



<!-- Content Header (Page header) -->
<div class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1 class="m-0 text-dark" style="font-weight:bolder; font-size:3.0rem;">Users List</h1>
            </div><!-- /.col -->
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">

                    <li class="breadcrumb-item active"></li>
                </ol>
            </div><!-- /.col -->
        </div><!-- /.row -->
    </div><!-- /.container-fluid -->
</div>
<!-- /.content-header -->
<!-- Main content -->




<div class="card-body">
    <table id="UsersIndex" class="table table-bordered table-hover table-striped" style="width:100%">

        <thead>
            <tr>
                <th style="width:5%">
                    Avatar
                </th>
                <th>
                    First Name
                </th>
                <th>
                    Last Name
                </th>
                <th>
                    Email
                </th>
                <th>
                    Current Role
                </th>
                <th>
                    Current Projects
                </th>
                <th>
                    Actions
                </th>


            </tr>
        </thead>
        <tbody>
            @foreach (var userInfo in Model)
            {

                <tr>
                    <td class="target_id">
                        <img src="@userInfo.User.AvatarUrl" style="width:70%;" alt="@userInfo.User.FullName" class="img-circle" data-lock-picture="@userInfo.User.AvatarUrl" />
                    </td>
                    <td>
                        @Html.DisplayFor(item => userInfo.User.FirstName)

                    </td>
                    <td class="target_project_name">
                        @Html.DisplayFor(item => userInfo.User.LastName)
                    </td>
                    <td class="target_ticket_priority">
                        @Html.DisplayFor(item => userInfo.User.Email)
                    </td>
                    <td class="target_ticket_type">
                        @Html.DisplayFor(modelItem => userInfo.role)
                    </td>
                    <td class="target_ticket_title">
                        @foreach (var project in userInfo.Projects)
                        {
                            @project.Name<br />
                        }
                    </td>


                    <td>
                        @if (User.IsInRole("Admin") || User.IsInRole("Project Manager"))
                        {
                            @*@Html.ActionLink("Edit", "Edit", "Tickets", new { id = userInfo.User.Id }, new { @class = "ui mini orange  button" })
                            @Html.ActionLink("Details", "Details", "Tickets", new { id = userInfo.User.Id }, new { @class = "ui mini blue button" })


                            <button type="button" class="ui mini green button btnClickable" data-toggle="modal" data-target="#exampleModal">
                                Assign
                            </button>*@

                        }

                    </td>
                </tr>

            }
        </tbody>
        <thead>
            <tr>

                <th>
                    Avatar
                </th>
                <th>
                    First Name
                </th>
                <th>
                    Last Name
                </th>
                <th>
                    Email
                </th>
                <th>
                    Current Role
                </th>
                <th>
                    Current Projects
                </th>
                <th>
                    Actions
                </th>

            </tr>
        </thead>
    </table>
</div>



@section scripts    {

    <script>




        $("#leftNavListUsers").addClass("active");

    </script>
}